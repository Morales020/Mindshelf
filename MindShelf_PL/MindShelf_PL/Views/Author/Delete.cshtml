@model MindShelf_BL.Dtos.AuthorDto.AuthorResponseDto

@{
    ViewData["Title"] = "حذف المؤلف";
}

<style>
    /* Author Delete specific styles */
    
    /* Remove all underlines from buttons and links */
    a, a:hover, a:focus, a:visited, a:active,
    .btn-delete, .btn-delete:hover, .btn-delete:focus, .btn-delete:visited, .btn-delete:active,
    .btn-cancel, .btn-cancel:hover, .btn-cancel:focus, .btn-cancel:visited, .btn-cancel:active,
    a.btn-delete, a.btn-delete:hover, a.btn-delete:focus, a.btn-delete:visited, a.btn-delete:active,
    a.btn-cancel, a.btn-cancel:hover, a.btn-cancel:focus, a.btn-cancel:visited, a.btn-cancel:active {
        text-decoration: none !important;
    }
    
    /* Force button text colors */
    .btn-delete, .btn-cancel, a.btn-delete, a.btn-cancel {
        color: white !important;
    }
    
    .btn-delete:hover, .btn-cancel:hover, a.btn-delete:hover, a.btn-cancel:hover {
        color: white !important;
    }
    .author-delete-card {
        background: white;
        border-radius: var(--border-radius);
        box-shadow: var(--box-shadow);
        transition: var(--transition);
        border: 1px solid #e9ecef;
        overflow: hidden;
    }

    .author-delete-header {
        background: linear-gradient(135deg, var(--danger-color), #e74c3c);
        color: white;
        padding: 1.5rem;
        border-radius: var(--border-radius) var(--border-radius) 0 0;
    }

    .author-delete-header h4 {
        margin: 0;
        font-family: var(--font-arabic-title);
        font-weight: 700;
    }

    .author-delete-image {
        width: 120px;
        height: 120px;
        object-fit: cover;
        border-radius: 50%;
        border: 4px solid var(--primary-beige);
        box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }

    .author-delete-name {
        color: var(--primary-blue);
        font-family: var(--font-arabic-title);
        font-weight: 700;
        font-size: 1.5rem;
    }

    .author-delete-info {
        background: linear-gradient(135deg, var(--light-beige), #ffffff);
        border-radius: var(--border-radius);
        padding: 1.5rem;
        border: 1px solid #e9ecef;
    }

    .btn-delete-confirm {
        background: linear-gradient(135deg, var(--danger-color), #e74c3c);
        border: none;
        color: white;
        border-radius: var(--border-radius);
        padding: 0.75rem 1.5rem;
        font-weight: 600;
        transition: var(--transition);
        box-shadow: var(--box-shadow);
    }

    .btn-delete-confirm:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(220, 53, 69, 0.3);
        color: white;
    }

    .btn-cancel {
        background-color: #6c757d;
        border-color: #6c757d;
        color: white;
        border-radius: var(--border-radius);
        padding: 0.75rem 1.5rem;
        font-weight: 600;
        transition: var(--transition);
    }

    .btn-cancel:hover {
        background-color: #5a6268;
        border-color: #545b62;
        transform: translateY(-1px);
        color: white;
    }

    .warning-text {
        color: var(--danger-color);
        font-weight: 600;
        font-size: 0.9rem;
    }

    /* Dark mode styles */
    .dark-mode .author-delete-card {
        background: #2d3748;
        border-color: #4a5568;
        color: #e2e8f0;
    }

    .dark-mode .author-delete-name {
        color: #63b3ed;
    }

    .dark-mode .author-delete-info {
        background: linear-gradient(135deg, #4a5568, #2d3748);
        border-color: #4a5568;
    }

    .dark-mode .warning-text {
        color: #f56565;
    }
</style>

<div class="container py-5">
    <!-- Page Header -->
    <div class="row mb-4">
        <div class="col-12">
            <div class="d-flex align-items-center mb-3">
                <a asp-action="Index" class="btn-cancel me-3">
                    <i class="fas fa-arrow-right me-2"></i>رجوع للقائمة
                </a>
                <h1 class="display-6 fw-bold text-primary mb-0">
                    <i class="fas fa-trash me-3"></i>حذف المؤلف
                </h1>
            </div>
        </div>
    </div>

    <!-- Author Delete Confirmation -->
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <div class="author-delete-card">
                <div class="author-delete-header">
                    <h4><i class="fas fa-exclamation-triangle me-2"></i>تأكيد حذف المؤلف</h4>
                </div>

                <div class="card-body p-4">
                    <div class="row g-4 align-items-center">
                        <!-- Author Image -->
                        <div class="col-md-4 text-center">
                            @if (!string.IsNullOrEmpty(Model.ImageUrl) && (Model.ImageUrl.EndsWith("jpg", StringComparison.OrdinalIgnoreCase) || Model.ImageUrl.EndsWith("jpeg", StringComparison.OrdinalIgnoreCase) || Model.ImageUrl.EndsWith("png", StringComparison.OrdinalIgnoreCase) || Model.ImageUrl.EndsWith("gif", StringComparison.OrdinalIgnoreCase) || Model.ImageUrl.EndsWith("webp", StringComparison.OrdinalIgnoreCase)))
                            {
                                <img src="@Model.ImageUrl" alt="@Model.Name" class="author-delete-image mb-3" />
                            }
                            else
                            {
                                <img src="/Images/anon-icon.jpg" alt="@Model.Name" class="author-delete-image mb-3" />
                            }
                        </div>

                        <!-- Author Info -->
                        <div class="col-md-8">
                            <div class="author-delete-info">
                                <h5 class="author-delete-name mb-3">@Model.Name</h5>
                                
                                @if (!string.IsNullOrEmpty(Model.Bio))
                                {
                                    <p class="mb-2">
                                        <strong><i class="fas fa-quote-right me-2 text-primary"></i>نبذة:</strong> 
                                        @Model.Bio
                                    </p>
                                }
                                
                                <p class="mb-3">
                                    <strong><i class="fas fa-calendar-alt me-2 text-primary"></i>تاريخ الميلاد:</strong> 
                                    @(Model.DateOfBirth?.ToString("yyyy-MM-dd") ?? "غير محدد")
                                </p>
                                
                                <div class="alert alert-warning mb-0">
                                    <i class="fas fa-exclamation-triangle me-2"></i>
                                    <strong class="warning-text">تحذير:</strong> سيتم حذف جميع الكتب المرتبطة بهذا المؤلف نهائياً!
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card-footer d-flex gap-3 justify-content-center">
                    <form asp-action="Delete" method="post" class="d-inline">
                        @Html.AntiForgeryToken()
                        <input type="hidden" asp-for="AuthorId" />
                        <button type="submit" class="btn-delete-confirm">
                            <i class="fas fa-trash me-2"></i>تأكيد الحذف
                        </button>
                    </form>
                    <a asp-action="Index" class="btn-cancel">
                        <i class="fas fa-times me-2"></i>إلغاء
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

